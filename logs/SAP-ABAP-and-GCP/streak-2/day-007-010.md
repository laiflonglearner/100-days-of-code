### Day 007 - 2025/08/01: Debug Database Issue

- Tried some debugging but it didn't work. So the issue is: Fiori UI fails to display the material list when using `npm start` (which runs `cds-serve`), despite data being accessible via `http://localhost:4004/inventory/Materials` when using `cds watch`.
- Why did this happen? o_O So the problem emerged after I attempted to switch from SQLite to MySQL, followed by a git revert to restore the original SQLite setup. I thought SQLite wasn't the best practice for production and that itâ€™d be better to use standard MySQL. It turns out SAP is compatible with SQLite by default, which means switching to MySQL requires me to change many underlying structures. Well, it's technically possible but I have a skill issue for sure ðŸ˜‚
- The OData endpoint still returns data with `cds watch`, but `npm start` encounters a `no such table: InventoryService_Materials` error a.k.a. it fails to load data, which means Fiori UI fails to render the list. Three new files (seem to be empty databases) also appeared after the revert, and the database configuration history is unclear sadge (>\_<)

### 2025/08/02: Break

I took a break from coding today. [Here's the detailed update of what I did](https://x.com/laiflonglearner/status/1951636648510566702). I tried to code when I got back home but I was too exhausted. Technically Iâ€™ve already taken more than two days off this week (which means I _should_ reset my coding streak), but what I did today was really important for my studies so yes Iâ€™m letting the streak continue.
Iâ€™ll try my best to get back on track tomorrow.

### Day 008 - 2025/08/03: SQLite Setup Issue and Fiori UI Integration

**Issue: Stock and Material Tables Not Found**

- Got `SqliteError: no such table: InventoryService_Materials` when trying to access the Material and Stock endpoints.
- CDS was connecting to MySQL despite reverting dependency changes and database setup.
- **Root Cause**: Forgotten MySQL credentials were still set in the configuration, overriding the default SQLite setup.

**Solution**:

- Commented out MySQL credentials in the configuration (in `.env`), this was such a silly mistake ðŸ¤£
- Ensured SQLite database (`inventory.db`) was used by running `cds deploy --to sqlite` and `cds watch`.
- Verified data availability at `http://localhost:4004/inventory/Materials`, which now shows the material list (e.g., Hammer, Screwdriver Set).

**Current Behavior**:

- Backend service works: Data is visible at `http://localhost:4004/inventory/Materials` with entries like:
  - `{"ID":"1ed9f5a0-0b7c-4d1e-8a9b-1c2d3e4f5a6b","name":"Hammer","description":"Claw hammer for general use","unit":"pcs"}`
  - `{"ID":"2f4e5d6c-7b8a-9c0d-1e2f-3a4b5c6d7e8f","name":"Screwdriver Set","description":"Phillips and Flathead","unit":"set"}`
- Fiori UI at `http://localhost:4004/materials-manage/webapp/index.html` shows an empty list, still figuring it out maybe it's UI configuration or data binding issue.

**TIL and next steps**:

- How important maintaining proper workflow is :^) because this is a simple project, I pushed everything to the main branch. I finally made another branch yesterday and figured out how to solve the issue.
- I tried CI/CD using GitHub action yeseterday, haven't set it up properly tho. It still uses the default `.yml` config. I'll try to do this tomorrow!
- Inspect the Fiori UI's data binding and service configuration to identify why the data is not being displayed. This will likely involve checking the manifest.json and the UI controller code.

### Day 009 - 2025/08/04: Starting over from Scratch

- I tried to fix Fiori UI issue but I I couldn't figure it out. The root cause is likely how the Fiori UI (which is generated by Fiori tools, so I didn't build this from scratch) is configured to connect to the OData service.
- Felt so lost atp so I decided to start over from scratch and try to compare it to the default Bookshop template so I can see how it fundamentally works. I realized that mixing the template with my own code isn't a good idea, so I created a new repo and just used the plain structure with folders like `app`, `srv`, and `db` in it but without default schema, service, entity definitions, etc.

### Day 010 - 2025/08/05

- Made the schema and service definitions based on Bookshop template. The template divided the service into admin and user. I was struggling for the first 1-2 hours trying to figure out how they set the credentials. When I tried to access via localhost, it asked for username and password, but there's no `.env` file or anything like that, there's no any in `package.json` either. So [based on the docs](https://cap.cloud.sap/docs/node.js/authentication#:~:text=Run%20cds%20env%20get%20requires.auth%20in%20your%20project) we can get the config for the current environment by running `cds env get requires.auth` command. So I entered 'Alice' and leave the password blank, and it worked!
- Added schema and service for catalogue. Still can't check it's working or not since I haven't populated the db yet.
